# 数据库
主要包括索引、事务（日志和锁）、缓存内容。

## 基础
1. select语句的执行过程？
2. 表空间的结构长啥样？
   - 分区的作用？
3. MySQL一行记录的存储格式长啥样？
   - 为什么变长字段长度列表要逆序存放？
   - varchar(n)的最大长度为多少？
   - 行溢出后怎么处理？
4. update语句执行过程？

## 索引
1. 索引的类型
   - 主键索引和二级索引的过程
   - 什么是回表，什么是索引覆盖？
   - 联合索引遇到范围查找一定会失效吗？
   - 什么是索引下推？
2. 什么字段适合建立索引？什么不适合？
3. 有哪些索引优化的方法？
4. 有哪些索引失效的情况？
5. 为什么 MySQL InnoDB 选择 B+tree 作为索引的数据结构？
6. 为什么说MySQL单表不要超过2000W行？
7. MySQL使用like '%x'，索引一定会失效吗？（全索引扫描）
8. count()函数使用的索引？
9. 数据页的结构长啥样？

## 事务
1. 事务的四大特性是什么？如何保障？
2. 并发事务会产生哪三种问题？对应的隔离级别分别是哪几种？
3. 脏读、不可重复读、幻读是如何解决的？MVCC（Read View）是如何工作的？

## 锁
1. 锁的类型有哪些？
2. 全局锁会造成业务停滞，有什么解决办法？
3. 表级锁有哪些？分别有哪些作用？
4. AUTO-INC锁为什么在主从复制时会造成数据不一致的情况？
5. 行级锁的类型有哪些？
6. 怎么加行级锁主要从幻读的角度去理解。
7. Update没走索引会锁全表？
8. 死锁的产生条件是什么？
9. Insert语句是怎么加锁的？

## 日志
1. 日志的类型有哪些？
2. Undo日志、Redo日志、binlog的作用
3. 回滚日志何时刷盘？
4. 重做日志和数据都要持久化到磁盘，为何多此一举？
5. 重做日志何时刷盘？是直接写入磁盘的吗？
6. Binlog和重做日志的区别
7. 主从复制的实现和作用
8. 为什么需要两阶段提交？
9. 两阶段提交存在的问题？如何解决？

## 缓存
1. 为什么要有Buffer Pool？
2. 缓存页的信息由控制块存储。
3. 如何管理缓冲池的空闲页与脏页？
4. 如何提高缓存命中率？如何解决预读失效和缓存污染的问题？
5. 何时将缓存页换回磁盘？
6. 什么是change buffer？(只适用于非唯一索引页)

## 其他
1. 分库分表的设计，电商的数据库如何设计？
2. 数据库常用调优手段
3. SQL基本语句

- select [distinct] ... [as] from ... where ...[like / and / or / between / in] [limit / order by (desc)];
- group by ... having [sum / max / min / avg / count]...;
- 通配符：% _ []
- [left / right / inner / full] join ... on ...;
- select ... union [all] select ...;
- exists

- create/alter/drop databse/table/index ...;
- insert into ... (...) values (...);
- update ... set ... where ...;
- delete from ... where ...;
- create index index_name on table_name (column_name);
